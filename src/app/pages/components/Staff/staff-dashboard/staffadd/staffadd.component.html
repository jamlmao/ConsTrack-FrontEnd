<app-stafftoolbar (toggleSidebarForMe)="sideBarToggler()"></app-stafftoolbar>
<mat-drawer-container>
    <mat-drawer mode="side" [opened]="sideBarOpen">
        <app-staffsidenav></app-staffsidenav>
    </mat-drawer>
    <mat-drawer-content>
        
        <router-outlet></router-outlet>

        
        <div class="row">
            <div class="container-fluid align-items-center">

                <div class="title">
                    <p>Welcome to your Projects</p>
                    <h1><span>PROJECT</span> LISTS</h1>      
                </div>
                <div class="align-items-center">         
                </div>
                
                  
                <div class="col-12 col-xl-6">
                    
                    
                  </div>
                </div>

          
                <div class="col-12 col-xl-12" style="margin-top: -90px;">
                  <div class="card card-plain h-100">
                    <div class="card-header pb-0">
                      <div class="d-flex align-items-center m-2">
                        <div class="col-md-7 m-2">
                          <label for="example-text-input" class="form-control-label"
                            >Search</label
                          >
                          <input class="form-control me-5" type="search" placeholder="Search for projects" [(ngModel)]="searchText">
                        </div>
                        
                        
                        <div class="col-md-2">
                          <label for="example-text-input" class="form-control-label"
                            >Project Type</label
                          >
                          <select class="form-control" id="client_id" [(ngModel)]="searchText" required>
                            <option value="" disabled selected>Select Project Type</option>
                            <option value="Residential">Residential</option>
                            <option value="Commercial">Commercial</option>
                            <option value="Institutional">Institutional</option>
                            <option value="Industrial">Industrial</option>
                          </select>
                        </div>
                        <div class="col-md-2 m-2">
                          <label for="example-text-input" class="form-control-label"
                            >Progress</label
                          >
                          <select class="form-control" id="client_id" [(ngModel)]="searchText" required>
                            <option value="" disabled selected>Select Status</option>
                              <option>Ongoing</option>
                              <option>Complete</option>
                              <option>Due</option>
                            </select>
                        </div>
                        <h4 style="margin-top: 7px;"> </h4>
                        <button class="btn btn-outline-dark"  (click)="openCreateProjectModal()" >
                          <mat-icon style="margin-top: 3px;">addition</mat-icon>
                       
                        </button>
                        <app-create-project 
                        *ngIf="isCreateProjectModalOpen" (close)="closeCreateProjectModal()">
                </app-create-project>
                      </div>
                    </div>
                  </div>
                </div>

        
          
          
        </div>
        

        
        

        <div class="container">
          <div class="table-wrapper">
              <div class="table-title">
                  <div class="row">
                      <div class="col-sm-10"><h1 style="font-weight: bold;">Project Lists Table</h1></div>
                     
                      
                  </div>
              </div>
              <table class="table table-bordered" id="myTable">
                  <thead>
                    <tr>
                      <th [width]="30">#</th>
                      <th >Client Name</th>
                      <th >Project Type</th>
                      <th >Contractor Name</th>
                      <th>Starting Date</th>
                      <th>Completion Date</th>
                      <th >Total Budget</th>
                      
                      <th >Progress</th>
                      <th >Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let project of paginatedUsers | filter:searchText; let i = index" >
                       
                      <td >
                         {{ i ++ 1}}
                      </td>
                      <td>
                        <span style="text-transform: uppercase;"> {{ project.client.first_name }} {{ project.client.last_name }} </span>
                      </td>
                      <td>
                        <span style="text-transform: uppercase;">  {{ project.project_name }} </span>
                      </td>
                      <td >
                       <span style="text-transform: uppercase;">{{ project.staff_in_charge.staff_first_name }} {{ project.staff_in_charge.staff_last_name }} </span> 
                     </td>
                      <td >
                         {{ project.starting_date }} 
                      </td>
                      <td >
                        {{ project.completion_date }} 
                      </td>
                      <td >
                       {{ project.totalBudget }}
                      </td>
                      <td>
                        {{ project.status }}
                      </td>
                      <td class="align-middle text-center text-sm">
                        <a class="view" (click)="selectProject(project)" class="eye"><mat-icon>visibility</mat-icon></a>
                        <a class="edit" (click)="openEditModal()"  title="Edit" data-toggle="tooltip"><i class="material-icons">î‰”</i></a>
                        <app-editproject 
                        *ngIf="isEditModalOpen" (close)="closeEditModal()">
                        </app-editproject>
                       
                        
                      </td>
                      
                    </tr>
                    
                        
                        
                  </tbody>
              </table>
              <div class="pagination-controls">
                  <button (click)="previousPage()" [disabled]="currentPage === 1">Previous</button>
                  <span style="margin-top: 4px;">Page {{currentPage}} of {{totalPages}}</span>
                  <button (click)="nextPage()" [disabled]="currentPage === totalPages">Next</button>
                </div>
              
                  
             
              
          </div>
      </div> 
        
            
                
                <router-outlet></router-outlet>
            
        
        <router-outlet></router-outlet>
    </mat-drawer-content>
</mat-drawer-container>