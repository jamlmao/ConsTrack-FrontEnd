<app-stafftoolbar (toggleSidebarForMe)="sideBarToggler()"></app-stafftoolbar>
<mat-drawer-container>
    <mat-drawer mode="side" [opened]="sideBarOpen">
        <app-staffsidenav></app-staffsidenav>
    </mat-drawer>
    <mat-drawer-content>
        
        <router-outlet></router-outlet>
        <div class="row">
            <div class="container-fluid align-items-center">

                <div class="title">
                    <p>Welcome to your Projects</p>
                    <h1><span>PROJECT</span> LISTS</h1>      
                </div>
                <div class="align-items-center">         
                </div>
                  
                <div class="col-12 col-xl-6">
                    
                    
                  </div>
                </div>
          
                <div class="col-12 col-xl-12">
                  <div class="card card-plain h-100">
                    <div class="card-header pb-0">
                      <div class="d-flex align-items-center m-2">
                        <input class="form-control me-5" type="search" placeholder="Search for projects" [(ngModel)]="searchText">
                        <button mat-fab extended class="btn-grad1"  (click)="openCreateProjectModal()" >
                          <mat-icon>addition</mat-icon>
                          Add Project
                        </button>
                        <app-create-project 
                        *ngIf="isCreateProjectModalOpen" (close)="closeCreateProjectModal()">
                </app-create-project>
                      </div>
                    </div>
                  </div>
                </div>

        
          
          
        </div>
        

        
        

            
        
       
        <div class="row mb-4">
          <div class="col-lg-12 col-md-6 mb-md-0 mb-4">
            <div class="card">
              <div class="card-header pb-0">
                <div class="row">
                  <div class="col-lg-6 col-7 mb-0">
                    <h1>Projects List Table</h1>
                    
                  </div>
                </div>
              </div>
              <div class="card-body px-0 pb-2">
                <div class="table-responsive">
                  <table class="table align-items-center mb-0">
                    <thead>
                      <tr>
                        <th class=" text-secondary text-xs font-weight-bolder opacity-7">Site Location</th>
                        <th class=" text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Client Name</th>
                        <th class="text-center text-secondary text-xxs font-weight-bolder opacity-7">Contact Number</th>
                        <th class="text-center text text-secondary text-xxs font-weight-bolder opacity-7">Starting Date</th>
                        <th class="text-center text-secondary text-xxs font-weight-bolder opacity-7">Completion Date</th>
                        <th class="text-center text-secondary text-xxs font-weight-bolder opacity-7">Total Budget</th>
                        
                        <th class="text-center text-secondary text-xxs font-weight-bolder opacity-7">Progress</th>
                        <th class="text-center text-secondary text-xxs font-weight-bolder opacity-7">View</th>
                      </tr>
                    </thead>
                    <tbody *ngFor="let project of projects | filter:searchText" (click)="selectProject(project)">
                      <tr>
                        <td>
                          <div class="d-flex px-2 py-1">
                            
                            <div class="d-flex flex-column justify-content-center">
                              <h6 class="mb-0 text-sm">{{ project.site_location }}</h6>
                            </div>
                          </div>
                        </td>
                        <td>
                          <div class="avatar-group mt-2">
                            <h6 class="mb-0 text-sm">{{ project.client.first_name }} {{ project.client.last_name }}</h6>
                            
                          </div>
                        </td>
                        <td class="align-middle text-center text-sm">
                          <span class="mb-0 text-sm"> {{ project.client.phone_number }} </span>
                        </td>
                        <td class="align-middle text-center text-sm">
                          <span class="mb-0 text-sm"> {{ project.starting_date }} </span>
                        </td>
                        <td class="align-middle text-center text-sm">
                          <span class="mb-0 text-sm"> {{ project.completion_date }} </span>
                        </td>
                        <td class="align-middle text-center text-sm">
                          <span class="mb-0 text-sm"> {{ project.totalBudget }} </span>
                        </td>
                        <td class="align-middle text-center text-sm">
                          <span class="mb-0 text-sm"> {{ project.status }} </span>
                        </td>
                        <td class="align-middle">
                          <button  mat-fab class="btn-grad1">View</button>
                        </td>
                        
                      </tr>
                      
                    </tbody>
                  </table>
                  
                </div>
              </div>
            </div>
          </div>
          
        </div>
        <footer class="footer py-4  ">
          <div class="container-fluid">
            <div class="row align-items-center justify-content-lg-between">
              
              <div class="col-lg-6">
                <ul class="nav nav-footer justify-content-center justify-content-lg-end">
                 
                  <li class="nav-item">
                    <a href="" class="nav-link text-muted" target="_blank">About Us</a>
                  </li>
                  <li class="nav-item">
                    <a href="" class="nav-link text-muted" target="_blank">Blog</a>
                  </li>
                  <li class="nav-item">
                    <a href="" class="nav-link pe-0 text-muted" target="_blank">License</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </footer>
          
            
                
                <router-outlet></router-outlet>
            
        
        <router-outlet></router-outlet>
    </mat-drawer-content>
</mat-drawer-container>