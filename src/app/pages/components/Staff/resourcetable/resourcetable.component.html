
<app-stafftoolbar (toggleSidebarForMe)="sideBarToggler()"></app-stafftoolbar>
<mat-drawer-container>
    <mat-drawer mode="side" [opened]="sideBarOpen">
        <app-staffsidenav></app-staffsidenav>
    </mat-drawer>
    <mat-drawer-content>
        <router-outlet></router-outlet>
        
           <section class="">
            <div class="container">

                
               

                <body >
                    <main>
                        
                        <nav class="navbar navbar-expand-lg navbar-light bg-white py-5">
                            
                            <div class="container">
                                
                                <a class="navbar-brand"><span class="fw-bolder text-primary text-black">ConsTrack Team</span></a>
                                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0 small fw-bolder">
                                        <li class="nav-item"><a class="nav-link" [routerLink]="['/project-details', projectDetails.id]" >PROJECT</a></li>
                                        <li class="nav-item"><a class="nav-link" [routerLink]="['/sowa', projectDetails.id]" >SOWA</a></li>
                                        <li class="nav-item"><a class="nav-link" [routerLink]="['/resources', projectDetails.id]">RESOURCES</a></li>
                                    </ul>
                                </div>
                            </div>
                        </nav>
                
                        <div class="title" style="margin-top: -50px;">
                    
                            <h2>RESOURCES LISTS</h2>
                            <h1><span>CONSTRACK</span> COMPANY</h1>
        
                        </div>
                      
                      
                    </main>
                
                 
                 
                </body>
               
                
               
             
            </div>
            
          
           </section>
           

       <div class="">
        <div class="table-wrapper">
            <div class="col-sm-10">      
                <h2 style="font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif; margin-left: 70px;">RESOURCES TABLE</h2></div> 
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th width="2%">#</th>
                            <th width="10%">Task Name</th>
                            <th width="10%">Task Category</th>
                            <th width="8%">Starting Date</th>
                            <th width="8%">Estimate Completion Date</th>
        
                            <th width="8%">Status</th>
                            <th width="10%">Resources Used:</th>
                            <th width="5%">Qty:</th>
                            <th width="10%">Cost</th>
                            <th width="10%">Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let task of tasks; let i = index;">
                            <td>{{ i + 1 }}</td>
                            <td>{{ task.pt_task_name }}</td>
                            <td>{{ task.pt_task_desc }}</td>
                            <td>{{ task.pt_starting_date }}</td>
                            <td>{{ task.pt_completion_date }}</td>
                            <td [ngClass]="{
                                'status-complete': task.pt_status === 'C',
                                'status-ongoing': task.pt_status === 'OG',
                                'status-due': task.pt_status === 'D'
                              }">
                                {{ getStatusText(task.pt_status) }}
                              </td>
                            <td>
                                <ul>
                                    <li *ngFor="let resource of task.resources">
                                        <p><strong>{{ resource.resource_name }}</strong></p>
                                    </li>
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li *ngFor="let resource of task.resources">
                                        <p><strong>{{resource.qty}}</strong></p>
                                    </li>
                                </ul>
                            </td>
                            <td>
                                <ul>
                                    <li *ngFor="let resource of task.resources">
                                        <p><strong>{{ resource.unit_cost }}</strong></p>
                                    </li>
                                </ul>
                            </td>
                            <td> <ul>
                                <li *ngFor="let resource of task.resources">
                                    <p><strong>{{ resource.total_cost }}</strong></p>
                                </li>
                            </ul></td>
                        </tr>
                    </tbody>
                </table>
    </div>
    </div>
          
            
        
        <router-outlet></router-outlet>
    </mat-drawer-content>
</mat-drawer-container>