<app-clienttoolbar (toggleSidebarForMe)="sideBarToggler()"></app-clienttoolbar>
<mat-drawer-container>
    <mat-drawer mode="over" [opened]="sideBarOpen">
        <app-clientsidenav></app-clientsidenav>
    </mat-drawer>
    <mat-drawer-content>
        
        <router-outlet></router-outlet>
        
           <section class="">
            <div class="containers">
                <nav class="navbar navbar-expand-lg navbar-light bg-white py-5">
                            
                    <div class="container">
                        
                        <a class="navbar-brand"><span class="fw-bolder text-primary text-black">ConsTrack Team</span></a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav ms-auto mb-2 mb-lg-0 small fw-bolder" *ngIf="projectDetails && projectDetails.id">
                                <li class="nav-item"><a class="nav-link" [routerLink]="['/client/clientproject', projectDetails.id]" >PROJECT DETAILS</a></li>
                                <li class="nav-item"><a class="nav-link" [routerLink]="['/client/viewstatus', projectDetails.id]" >RESOURCES</a></li>
                                <li class="nav-item"><a class="nav-link" [routerLink]="['/client/viewproject', projectDetails.id]">TIMELINE UPDATES</a></li>
                            </ul>
                        </div>
                    </div>
                </nav>
                <div class="title">
                    <p>Welcome to your Project</p>
                    <h1><span>PROJECT</span> TIMELINE</h1>

                </div>
               
              
                
                
               
            </div>

        
                
            
            
            
    
           

           </section>
        

           <div class="timeline-container">
            <div class="timeline">
              <div 
                class="task" 
                *ngFor="let task of tasks; let i = index;" 
                [ngClass]="{
                  'complete': task?.pt_status === 'C', 
                  'ongoing': task?.pt_status === 'OG', 
                  'due': task?.pt_status === 'D'
                }"
              >
                <div class="content">
                  <!-- Unique id for each carousel -->
                  <div class="carousel slide" [id]="'carouselExampleIndicators' + i" data-bs-ride="carousel">
                    <div class="carousel-indicators">
                      <button 
                        type="button" 
                        [attr.data-bs-target]="'#carouselExampleIndicators' + i" 
                        [attr.data-bs-slide-to]="0" 
                        class="active" 
                        aria-current="true" 
                        aria-label="Slide 1"
                      ></button>
                      <button 
                        type="button" 
                        [attr.data-bs-target]="'#carouselExampleIndicators' + i" 
                        [attr.data-bs-slide-to]="1" 
                        aria-label="Slide 2"
                      ></button>
                      <button 
                        type="button" 
                        [attr.data-bs-target]="'#carouselExampleIndicators' + i" 
                        [attr.data-bs-slide-to]="2" 
                        aria-label="Slide 3"
                      ></button>
                    </div>
                    <div class="carousel-inner">
                      <div class="carousel-item active" *ngIf="task.pt_photo_task">
                        <img [src]="'http://localhost:8000' + task.pt_photo_task" alt="project image">
                      </div>
                      <div class="carousel-item" *ngIf="task.week1_img">
                        <img [src]="'http://localhost:8000' + task.week1_img" alt="project image">
                      </div>
                      <div class="carousel-item" *ngIf="task.week2_img">
                        <img [src]="'http://localhost:8000' + task.week2_img" alt="project image">
                      </div>
                      <div class="carousel-item" *ngIf="task.week3_img">
                        <img [src]="'http://localhost:8000' + task.week3_img" alt="project image">
                      </div>
                      <div class="carousel-item" *ngIf="task.week4_img">
                        <img [src]="'http://localhost:8000' + task.week4_img" alt="project image">
                      </div>
                      <div class="carousel-item" *ngIf="task.week5_img">
                        <img [src]="'http://localhost:8000' + task.week5_img" alt="project image">
                      </div>
                      <div class="carousel-item" *ngIf="task.update_img">
                        <img [src]="'http://localhost:8000' + task.update_img" alt="project image">
                      </div>
                    </div>
                    <button 
                      class="carousel-control-prev" 
                      type="button" 
                      [attr.data-bs-target]="'#carouselExampleIndicators' + i" 
                      data-bs-slide="prev"
                    >
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Previous</span>
                    </button>
                    <button 
                      class="carousel-control-next" 
                      type="button" 
                      [attr.data-bs-target]="'#carouselExampleIndicators' + i" 
                      data-bs-slide="next"
                    >
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="visually-hidden">Next</span>
                    </button>
                  </div>
                  <h2>{{task.pt_task_desc}}</h2>
                  <h2>{{task.pt_task_name}}</h2>
                  <p class="date">{{task.pt_starting_date}}</p>
                </div>
              </div>
              <!-- More tasks can be added here -->
            </div>
          </div>
          
            
        

                
          
       
       
          
            
        
        <router-outlet></router-outlet>
    </mat-drawer-content>
</mat-drawer-container>